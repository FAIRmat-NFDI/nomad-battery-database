# How to Prepare and Upload Data

This plugin is designed to parse data from either structured YAML files or a "wide" format CSV file. For best results and traceability, we recommend converting your data into the individual YAML file format for small dataset.

### Supported File Formats

1.  **YAML (Recommended)**: Each file should contain the data for a single battery material entry. The keys in the YAML file should correspond to the attributes in the `BatteryDatabase` schema. This is the format generated by the `split_csv_to_yaml.py` utility script. We are using following standard script. 

    *Example (`entry1.extracted_battery.yaml`):*
    ```yaml
    Name: 40-CuO / C
    Extracted_name: '[{''Cu'': ''1.0'', ''O'': ''1.0''}, {''C'': ''1.0''}]'
    DOI: 10.1039/C4NR06432A
    Capacity_Raw_value: 217
    Capacity_Raw_unit: mAhg−1
    Voltage_Raw_value: 1.5
    Voltage_Raw_unit: V
    ```
    The parser will automatically map keys like `Capacity_Raw_value` to the correct schema quantity `capacity_raw_value`.

2.  **CSV/XLSX (Wide Format)**: You can also upload a single CSV or Excel file containing all your data. Each row should represent one material, and the columns should correspond to the schema quantities.

    *Example (`battery_data_pivot.csv`):*
    ```csv
    Name,Extracted_name,DOI,Capacity_Raw_value,Capacity_Raw_unit,Voltage_Raw_value,Voltage_Raw_unit
    "40-CuO / C","[{'Cu': '1.0', 'O': '1.0'}, {'C': '1.0'}]",10.1039/C4NR06432A,217,mAhg−1,1.5,V
    "LixMn2O4","[{'Li': 'x', 'Mn': '2.0', 'O': '4.0'}]",10.1016/j.jpowsour.2014.07.191,120,mAh/g,4.1,V
    ```

### Upload Process

1.  Install the [plugin](how_to/install_this_plugin.md) if its not already there.
2.  Navigate to the **UPLOAD** page in your NOMAD GUI and Create a new upload.
3.  Drag and drop your data files (either a directory of YAML files or a single CSV/XLSX file) into the upload area.
4.  NOMAD's parser matching mechanism will identify the files and process them. Each YAML file or each row in the CSV file will become a separate entry in NOMAD.